---
layout: post
title: 评测篇——关于Android中动态追踪函数的那些工具
key: 20150103
tags: Android Reverse
---
最近这两天把Android几个主流的跟踪函数和方法的工具进行了下简单测评

第一个不得不提的就是DDMS的Traceview工具，这个工具优点是不用手动注入语句，重打包等繁琐操作就能输出APP的所有调用的函数，简单粗暴，这也是我为什么推荐这个工具的原因

缺点是界面可操作性差（Google自己都不维护了），无法过滤，所有这里有几个技巧需要注意，触发APP条件事件（比如Click或者刷新）生成.trace文件后，由于无法过滤需要点击Name进行排序，然后包名一般是

是com.xx...类似于下图就比较直观了，序号一般是调用的先后顺序（一般是...）

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.1.png)

通过类名的粗略浏览判断出可能的关键函数，然后点击可以看到前后调用的函数，Parents和Children

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.2.png)

这个和通过AS左下角的调用栈是一致的

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.3.png)

再来一个样例

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.4.png)

可以转成文字 http://www.imagetotxt.com/

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.5.png)

如果手机装了xposed模块并hook了getSign函数

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.6.png)

最后一点，这个工具还可以成功输出加固APP所调用的函数！！！

![Desktop Preview](https://raw.githubusercontent.com/la0s/la0s.github.io/master/screenshots/20180628.7.png)

第二个就是前面所讲的文章 smali全局注入探测App流程，这个优点是不会有很多复杂冗余的输出，每一次点击都会正确的输出所调用的所有方法，
